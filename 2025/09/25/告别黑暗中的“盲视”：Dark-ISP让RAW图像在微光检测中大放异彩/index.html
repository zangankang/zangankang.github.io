
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>告别黑暗中的“盲视”：Dark-ISP让RAW图像在微光检测中大放异彩 | NWPU-ZAK</title>
    <meta name="author" content="Zang Ankang" />
    <meta name="description" content="兄弟们，一定要出人头地啊" />
    <meta name="keywords" content="" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

  <meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>
  <body>
    <canvas
      id="fireworks"
      style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 32767;
      "
    ></canvas>
    <canvas
      id="background"
      style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: -1;
      "
    ></canvas>
    <div id="cursor"></div>
    <div id="layout">
      <transition name="fade">
        <!-- <div id="loading" v-show="loading">
          <div id="loading-circle">
            <h2>LOADING</h2>
            <p>加载过慢请开启缓存 浏览器默认开启</p>
            <img src="/" />
          </div>
        </div> -->
        <div id="loading" v-show="loading">
          <div id="loading-circle">
            <video autoplay muted loop playsinline class="loading-video-circle">
              <source
                src="/videos/loading.mp4"
                type="video/mp4"
              />
            </video>
          </div>
        </div>
      </transition>
      <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>NWPU-ZAK</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;NWPU-ZAK</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

      <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
        <div class="article">
    <div>
        <h1>告别黑暗中的“盲视”：Dark-ISP让RAW图像在微光检测中大放异彩</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/9/25
        </span>
        
        
    </div>
    
    <div class="content" v-pre>
        <h4 id="告别黑暗中的盲视dark-isp让raw图像在微光检测中大放异彩">告别黑暗中的“盲视”：Dark-ISP让RAW图像在微光检测中大放异彩</h4>
<h4 id="背景">背景：</h4>
<p>在伸手不见五指的夜晚，自动驾驶汽车和安防摄像头如何才能像白天一样“看”清世界？低光环境下的目标检测一直是计算机视觉领域的棘手难题。</p>
<ul>
<li>传统方法通常先进行弱光图像增强，再进行检测，但是<strong>图像增强/恢复方法是针对人类视觉感知进行优化的，不一定有利于机器视觉理解任务，甚至可能丢失关键信息或引入噪声。</strong></li>
<li><strong>RAW图像由于保留了丰富的光照信息</strong>，RAW在<strong>记录极暗和极亮的区域时，有更高的精度和更细腻的层次</strong>，对于弱光检测，暗部区域的这点“残存”信息可能至关重要。</li>
<li><strong>RAW数据更接近物理真实</strong>，RAW数据与光子数成线性关系。让模型直接学习这种未被“扭曲”的原始物理信号，可能更容易让它学到光照不变的本质特征。</li>
<li>但现有方法在处理弱光图像时，通常会走一条“捷径”：<strong>先把信息丰富但难以直接使用的RAW数据，通过一个为人类视觉优化的、充满信息损失的流程，转换成标准的人眼看着舒服的RGB图像</strong>，但是这个过程<strong>为了压缩动态范围、去噪和调整色彩，会丢弃大量对目标检测有用的原始信息，尤其是在亮度极低的区域。</strong></li>
<li>或者<strong>采用复杂的框架，难以与检测任务端到端联合优化。</strong></li>
</ul>
<p>本文的核心思想就是：<strong>不要让为人类视觉设计的ISP成为机器视觉的瓶颈</strong>。</p>
<ul>
<li>提出了一个<strong>轻量级、自适应、可微分（可学习）</strong>的图像信号处理（ISP）插件<strong>Dark-ISP</strong>。</li>
<li>放弃了先将RAW图像转为有信息损失的RGB图像再检测的传统路径，而是能够<strong>直接处理最原始的Bayer
RAW数据，并以最终的检测效果为优化目标，生成最有利于后续检测网络识别目标的图像，进行端到端的处理和优化。</strong></li>
<li><strong>将RAW到RGB的转换过程变得智能且自适应，从而打造出一个专为下游目标检测任务服务的、高效的图像处理流水线，在弱光环境下取得了顶尖的检测性能
。</strong></li>
</ul>
<h4 id="本文的主要创新是">本文的主要创新是：</h4>
<p>（1）巧妙地将复杂的ISP过程解构成两个关键部分：</p>
<ul>
<li><p><strong>串行线性子模块（传感器校准，</strong>即该模块主要负责<strong>处理相机传感器基础颜色校准相关的操作</strong>，例如白平衡、颜色校正等，这些在数学上通常是<strong>线性的矩阵变换</strong>）和<strong>非线性子模块（色调映射</strong>，即该模块主要负责<strong>处理色调映射、明暗对比</strong>，调整图像的亮度、对比度和色彩分布，这通常是一个<strong>非线性的曲线调整过程</strong>）</p></li>
<li><p>将它们<strong>重新构建为可以通过任务驱动的损失函数进行优化的可微分组件</strong>（可微分组件是指这个模块可以用深度学习的方法（特别是<strong>反向传播算法）进行训练和优化</strong>。这是让传统算法能够“学习”的关键）。</p></li>
<li><p>每个模块都具备</p>
<ul>
<li><strong>内容感知的自适应性</strong>（指模块的<strong>处理方式不是一成不变的</strong>，而是可以<strong>根据输入图像的具体内容</strong>（例如亮度、纹理、物体）<strong>动态地进行调整</strong>）</li>
<li>和<strong>物理信息先验</strong>（指在设计模块时，<strong>融入了现实世界中的物理规律作为先验知识</strong>（例如，相机传感器的噪声模型、光学成像原理等），<strong>而不是让网络凭空学习一切</strong>。这让模型学习得更快、效果更好。），</li>
<li>从而能够<strong>实现与检测目标一致的、自动化的RAW到RGB转换</strong>。</li>
</ul></li>
</ul>
<p>（2）通过利用ISP方法固有的<strong>级联结构</strong>（处理流程是<strong>一系列连续的步骤</strong>，前一步的输出是后一步的输入，线性模块处理完，再交给非线性模块处理），作者设计了一种<strong>自我提升机制</strong>，让<strong>级联结构中的前后两个模块能够互相“沟通”和“对齐”目标</strong>，使得<strong>它们的优化方向一致</strong>，从而更好地协作，达到1+1&gt;2的效果。</p>
<h4 id="过程">过程：</h4>
<ol type="1">
<li><strong>动态线性映射 (Dynamic Linear Mapping)</strong>
<ul>
<li>传统ISP中的白平衡、颜色空间转换等操作本质上都可以简化为一系列矩阵乘法
。<strong>这篇文章首先将这些操作统一成一个初始的线性变换矩阵P
（线性模块）。</strong></li>
<li>但是<strong>它认为这个变换矩阵不应该是固定不变的</strong>，而应该根据图像内容<strong>动态调整（内容感知的自适应性）</strong>。因此，<strong>通过一个双流网络提取图像的局部和全局特征，再利用注意力机制（Attention）生成动态的、逐像素的变换矩阵
P’</strong>，使其能够<strong>自适应地处理不同光照和内容的图像</strong>
。</li>
</ul></li>
<li><strong>多项式基的非线性延展 (Nonlinear Stretch with Polynomial
Bases)</strong>
<ul>
<li>经过线性校正后，需要<strong>进行类似色调映射（Tone
Mapping）的非线性操作来调整图像的明暗分布</strong>。</li>
<li><strong>不同于使用一个“黑箱”的神经网络来学习这个变换，</strong>作者基于一个<strong>物理先验：</strong>处理弱光图像需要“<strong>拉伸暗部，压缩亮部</strong>”
。为此，他们预先设计了一组（8个）具有这种非凸特性的多项式函数（称为基函数）
。网络要学习的<strong>不再是一个复杂的映射，而是每个像素点应该如何“混合”这些基函数，即学习它们的组合系数
。</strong>这种方法物理解释性强，也更稳定 。</li>
</ul></li>
<li><strong>自增强正则化 (Self-Boost Regularization)</strong>
<ul>
<li>这是一个非常巧妙的设计。它基于一个假设：<strong>更深层网络（非线性模块）的输出U比浅层网络（线性模块）的输出I’更接近最终的理想目标</strong>
。因此，它<strong>将U作为一个“伪目标”，反过来指导线性模块的学习</strong>
。具体来说，它计算出一个<strong>理想的线性矩阵。P̃(从I直接到U的近似解)</strong>
，然后<strong>通过一个损失函数 <span class="math display"><em>L</em><sub><em>s</em><em>b</em></sub></span>促使线性模块生成的实际矩阵P’与这个理想矩阵
P̃ 的方向保持一致</strong>
。这就像一个“老师”（深层模块）在不断地给“学生”（浅层模块）指明正确的学习方向。</li>
</ul></li>
</ol>
<hr>
<h4 id="这里的多项式基的非线性延展有点没看懂">这里的多项式基的非线性延展有点没看懂：</h4>
<ol type="1">
<li><p><strong>关于“黑箱的神经网络”</strong></p>
<p>传统的神经网络是使用一个结构复杂的网络（比如U-Net），输入一张处理前的图像，期望它输出一张处理后的图像。<strong>网络内部成千上万的参数会通过反向传播进行调整，最终学习到一个能最小化损失函数（优化目标）的输入-输出映射。</strong>我们知道这个映射<strong>有效</strong>，但无法轻易地用简洁的数学或物理语言来描述这个映射<strong>是什么</strong>，它<strong>内部的变换过程是高度复杂和非直观的，因此称之为“黑箱”。</strong>而本文不使用这种不可解释的黑箱方法，它将变换的形式（基底）先限定在一个特定、且有物理解释的函数集合里，让网络只学习如何组合它们。</p></li>
<li><p><strong>这个物理先验</strong></p>
<p>“处理弱光图像需要‘拉伸暗部，压缩亮部’”，主要来源于两个领域：数字图像处理中的“色调映射（Tone
Mapping）”理论和对人类视觉系统的模拟。</p>
<ul>
<li><strong>高动态范围（HDR）成像</strong>：<strong>相机传感器能捕捉到的亮度范围（动态范围）远超普通显示器能显示的范围。</strong>为了在低动态范围的屏幕上显示高动态范围的图像，必须进行“色调映射”。一个最关键的操作就是<strong>非线性地</strong>压缩亮度。<strong>为了保留暗部的细节，必须将暗光区域的亮度级差“拉伸”开；而为了防止亮部“过曝”变成一片纯白，则必须将亮光区域的亮度级差“压缩”起来。</strong></li>
<li><strong>人类视觉系统</strong>：人眼在适应不同光照环境时，其反应本身就是非线性的。在黑暗环境中，人眼对微弱的光线变化更敏感（等同于拉伸暗部），而在非常亮的环境中，对强光的变化则不那么敏感（等同于压缩亮部）。</li>
</ul>
<p>因此，这个先验知识是数字成像领域为了在有限的显示设备上更好地还原和增强图像细节，并参考了人眼工作原理而总结出的黄金法则。论文中也明确指出，<strong>这种非凸映射（non-convex
mappings）是必需的，目的是“增强阴影细节并防止亮区过曝”
。</strong></p></li>
<li><p><strong>“将暗光区域的亮度级差拉伸开”，“将亮光区域的亮度级差压缩起来”
？</strong></p>
<p>不是简单地将暗部“调亮”或者将亮部“调暗”，而是<strong>重新分配显示屏有限的亮度级别</strong>，目的是在有限的范围内呈现出尽可能丰富的细节。</p>
<p>假设<strong>相机传感器</strong>能记录的亮度范围是 <strong>0 到
4095</strong>
(这是一个12位RAW图像的常见范围，共4096个级别)。而我们<strong>手机屏幕</strong>能显示的亮度范围是
<strong>0 到 255</strong>
(这是一个标准的8位图像范围，共256个级别)。那么我们就需要把传感器捕捉到的4096个级别，塞进屏幕的256个级别里。</p>
<ul>
<li>“将暗光区域的亮度级差拉伸开”，假设一张夜景照片，大部分细节都集中在很暗的区域，比如传感器记录的
<strong>[0, 500]</strong>
这个亮度区间内。这里面包含了汽车的轮廓、行人的影子等重要信息。
<ul>
<li><strong>如果不做任何处理（线性压缩）</strong>：[0, 500]
这个范围会被等比例地映射到屏幕的 [0, 31]
这个范围。传感器的500个级别被挤在屏幕的31个级别里，亮度值5和亮度值20在屏幕上可能看起来都是一片漆黑，人眼根本分不出区别。<strong>细节丢失了</strong>。</li>
<li><strong>“拉伸”操作</strong>：为了看清暗部细节，我们决定把屏幕上更多的亮度级别<strong>分配</strong>给这个区域。比如，我们把屏幕的
<strong>[0, 100]</strong> 这100个级别，专门用来显示传感器记录的
<strong>[0, 500]</strong> 这个范围。</li>
</ul></li>
</ul></li>
<li><p><strong>每个像素点应该如何“混合”这些基函数，即学习它们的组合系数
。</strong></p>
<ul>
<li>类似于一个ax+by+cz。</li>
<li>x、y、z分别是空间中的三个基底，对应于文中说的<strong>预先设计好的、固定不变的多项式基函数<span class="math display">{<em>f</em><sub><em>k</em></sub>(<em>x</em>)}</span>。</strong></li>
<li>然后我要学习abc这三个组合系数，对应于文中由神经网络<strong>为每个像素动态学习</strong>出来的<strong>组合系数</strong><span class="math display">{<em>C</em><sub><em>k</em></sub>(<em>i</em>, <em>j</em>)}</span>。通过这三个基底构造得到一个空间非线性的曲线来进行色调映射进而得到映射结果。文中就是得到最终变换函数<span class="math display"><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -2.864ex;" xmlns="http://www.w3.org/2000/svg" width="28.772ex" height="6.399ex" role="img" focusable="false" viewbox="0 -1562.5 12717.3 2828.3"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"/></g><g data-mml-node="mo" transform="translate(749,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="msub" transform="translate(1138,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="TeXAtom" transform="translate(605,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(345,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z"/></g></g></g><g data-mml-node="mo" transform="translate(2328.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(2995.1,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="munderover" transform="translate(4050.8,0)"><g data-mml-node="mo"><path data-c="2211" d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z"/></g><g data-mml-node="TeXAtom" transform="translate(86,-1107.7) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"/></g><g data-mml-node="mo" transform="translate(521,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mn" transform="translate(1299,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"/></g></g><g data-mml-node="TeXAtom" transform="translate(509.9,1150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></g></g></g><g data-mml-node="msub" transform="translate(5661.5,0)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"/></g><g data-mml-node="TeXAtom" transform="translate(748,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"/></g></g></g><g data-mml-node="mo" transform="translate(6827.9,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(7216.9,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(7561.9,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(8006.6,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z"/></g><g data-mml-node="mo" transform="translate(8418.6,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="msub" transform="translate(8807.6,0)"><g data-mml-node="mi"><path data-c="1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"/></g><g data-mml-node="TeXAtom" transform="translate(523,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"/></g></g></g><g data-mml-node="mo" transform="translate(9749,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="msub" transform="translate(10138,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="TeXAtom" transform="translate(605,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(345,0)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z"/></g></g></g><g data-mml-node="mo" transform="translate(11328.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(11717.3,0)"><g data-mml-node="mo"><text data-variant="normal" transform="scale(1,-1)" font-size="884px" font-family="serif">。</text></g></g></g></g></svg></mjx-container></span></li>
<li>所以，整个过程就是，<strong>对于图像中的每一个像素（i，j），网络都会输出一组系数（比如a,b,c,…），然后用这组系数去加权混合那一套固定的基函数（x,y,z,…），为这个像素学习出一条最优的色调映射曲线，</strong>将这个像素原来的亮度代入曲线，得到新的映射后的亮度。</li>
</ul></li>
</ol>
<p>这样网络<strong>不再是一个复杂的黑箱映射</strong>，不需要从一个几乎无限的函数空间中，大海捞针般地去寻找一个能拟合数据的最优函数。网络不再需要学习“映射本身是什么”，映射的<strong>基本形态已经被作者通过预设的8个基函数给限定好了。</strong>网络的任务被大大简化，只需要学习一个更简单的问题：“<strong>针对当前这个像素点，我应该用哪个基函数多一点，用哪个少一点？</strong>”。它学习的是<strong>组合方式</strong>，而不是<strong>变换本身</strong>
。</p>

    </div>
    
    
    
    
    
    
    
</div>
 <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2025 - 2025 NWPU-ZAK
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;Zang Ankang
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

      </div>
      
      <transition name="fade">
        <div id="preview" ref="preview" v-show="previewShow">
          <img id="preview-content" ref="previewContent" />
        </div>
      </transition>
      
    </div>
    <script src="/js/main.js"></script>
     



 
    <!-- <script src="/js/random-bg.js"></script> -->
    <script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="/js/fireworks.min.js"></script>
    <script src="/js/background.min.js"></script>
    <link rel="stylesheet" href="/css/cursor.min.css" />
    <script src="/js/cursor.min.js"></script>
  </body>
</html>
